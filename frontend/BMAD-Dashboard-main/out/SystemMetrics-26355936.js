import{c as y,j as e,a as u,R as S,A as G,r as p,C as I,H as L}from"./index-156284ae.js";import{W as D,u as _,T as $}from"./useSystemMetrics-69ca1be4.js";import{Z as q,P as T}from"./PageHeader-62cd41dd.js";import{P as F,S as O,C as z}from"./square-3e3a74d3.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=y("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),W=({error:t,onRetry:i,variant:m="inline",className:x})=>{if(!t)return null;const l=a=>a.includes("timeout")||a.includes("niet bereikbaar")?e.jsx(D,{className:"w-5 h-5"}):a.includes("Server error")?e.jsx(B,{className:"w-5 h-5"}):e.jsx(G,{className:"w-5 h-5"}),g=a=>a.includes("timeout")||a.includes("niet bereikbaar")?"border-yellow-500/20 bg-yellow-500/10 text-yellow-700":a.includes("Server error")?"border-red-500/20 bg-red-500/10 text-red-700":"border-orange-500/20 bg-orange-500/10 text-orange-700",h=a=>a.includes("timeout")||a.includes("niet bereikbaar")?"Verbinding met server verloren. Controleer je internetverbinding.":a.includes("Server error")?"Server probleem gedetecteerd. Probeer het later opnieuw.":"Er is een fout opgetreden. Probeer de pagina te verversen.",b=l(t),o=g(t),d=h(t);return m==="fullscreen"?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:u("bg-card rounded-2xl p-8 shadow-lg border max-w-2xl w-full text-center",o),children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 rounded-full bg-current/10",children:b})}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verbinding Probleem"}),e.jsx("p",{className:"text-sm mb-6",children:d}),i&&e.jsxs("button",{onClick:i,className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Opnieuw proberen"})]})]})}):m==="card"?e.jsx("div",{className:u("bg-card rounded-2xl p-6 shadow-lg border",o,x),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:b}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Verbinding Probleem"}),e.jsx("p",{className:"text-sm mb-4",children:d}),i&&e.jsxs("button",{onClick:i,className:"inline-flex items-center space-x-2 px-3 py-1.5 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm",children:[e.jsx(S,{className:"w-3 h-3"}),e.jsx("span",{children:"Opnieuw proberen"})]})]})]})}):e.jsxs("div",{className:u("flex items-center space-x-3 p-3 rounded-lg border",o,x),children:[b,e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:d})}),i&&e.jsx("button",{onClick:i,className:"flex-shrink-0 p-1 rounded hover:bg-current/10 transition-colors",title:"Opnieuw proberen",children:e.jsx(S,{className:"w-4 h-4"})})]})},X=({onComplete:t,className:i})=>{const[m,x]=p.useState(!1),[l,g]=p.useState([]),[h,b]=p.useState(null),o=[{name:"Page Load Time",test:async()=>{const r=performance.now();await new Promise(n=>setTimeout(n,100));const s=performance.now()-r;return{success:s<2e3,duration:s,error:s>=2e3?`Page load took ${s.toFixed(0)}ms (threshold: 2000ms)`:void 0}}},{name:"API Response Time",test:async()=>{const r=performance.now();try{const s=await fetch("/api/health",{method:"GET",headers:{"Content-Type":"application/json"}}),n=performance.now()-r;return{success:s.ok&&n<500,duration:n,error:s.ok?n>=500?`API took ${n.toFixed(0)}ms (threshold: 500ms)`:void 0:`API returned ${s.status}`}}catch(s){return{success:!1,duration:performance.now()-r,error:`API connection failed: ${s instanceof Error?s.message:"Unknown error"}`}}}},{name:"Memory Usage",test:async()=>{const r=performance.now();if("memory"in performance){const c=performance.memory.usedJSHeapSize/(1024*1024),C=performance.now()-r;return{success:c<100,duration:C,error:c>=100?`Memory usage: ${c.toFixed(1)}MB (threshold: 100MB)`:void 0}}return{success:!0,duration:performance.now()-r,error:"Memory API not available"}}},{name:"Smooth Scrolling",test:async()=>{const r=performance.now(),n=await(()=>new Promise(C=>{let A=0,M=performance.now();const R=()=>{A++;const E=performance.now();if(E-M>=1e3){const U=A/((E-M)/1e3);C(U>=30);return}requestAnimationFrame(R)};requestAnimationFrame(R)}))(),c=performance.now()-r;return{success:n,duration:c,error:n?void 0:"Scrolling performance below 30 FPS"}}},{name:"Component Rendering",test:async()=>{const r=performance.now();await new Promise(n=>setTimeout(n,50));const s=performance.now()-r;return{success:s<100,duration:s,error:s>=100?`Component rendering took ${s.toFixed(0)}ms (threshold: 100ms)`:void 0}}}],d=p.useCallback(async r=>{b(r.name);try{const s=await r.test();g(n=>n.map(c=>c.name===r.name?{...c,status:s.success?"passed":"failed",duration:s.duration,error:s.error}:c))}catch(s){g(n=>n.map(c=>c.name===r.name?{...c,status:"failed",error:s instanceof Error?s.message:"Unknown error"}:c))}},[]),a=p.useCallback(async()=>{x(!0),g(o.map(r=>({name:r.name,status:"pending"})));for(const r of o)await d(r),await new Promise(s=>setTimeout(s,100));x(!1),b(null),t&&t(l)},[o,d,t,l]),w=p.useCallback(()=>{x(!1),b(null)},[]),k=l.filter(r=>r.status==="passed").length,f=l.length;return e.jsxs("div",{className:u("bg-card rounded-2xl p-6 shadow-lg border border-border",i),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Performance Tests"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m?"Running tests...":`${k}/${f} tests passed`})]}),e.jsx("div",{className:"flex space-x-2",children:m?e.jsxs("button",{onClick:w,className:"inline-flex items-center space-x-2 px-4 py-2 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 transition-colors",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Stop"})]}):e.jsxs("button",{onClick:a,className:"inline-flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Run Tests"})]})})]}),e.jsx("div",{className:"space-y-3",children:o.map(r=>{const s=l.find(c=>c.name===r.name),n=h===r.name;return e.jsxs("div",{className:u("flex items-center justify-between p-3 rounded-lg border",(s==null?void 0:s.status)==="passed"?"bg-green-500/10 border-green-500/20":(s==null?void 0:s.status)==="failed"?"bg-red-500/10 border-red-500/20":n?"bg-blue-500/10 border-blue-500/20":"bg-muted/50 border-border"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[(s==null?void 0:s.status)==="passed"?e.jsx(H,{className:"w-4 h-4 text-green-500"}):(s==null?void 0:s.status)==="failed"?e.jsx(J,{className:"w-4 h-4 text-red-500"}):n?e.jsx(z,{className:"w-4 h-4 text-blue-500 animate-spin"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:r.name}),(s==null?void 0:s.error)&&e.jsx("div",{className:"text-xs text-red-600",children:s.error})]})]}),(s==null?void 0:s.duration)&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[e.jsx(q,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.duration.toFixed(0),"ms"]})]})]},r.name)})})]})},N={cpu:{warning:70,critical:90},memory:{warning:80,critical:95}},j=(t,i)=>t>=i.critical?"critical":t>=i.warning?"warning":"normal",Z=t=>{switch(t){case"critical":return"text-red-500 bg-red-500/10";case"warning":return"text-yellow-500 bg-yellow-500/10";default:return"text-green-500 bg-green-500/10"}},K=t=>{switch(t){case"critical":return"ðŸ”´";case"warning":return"ðŸŸ¡";default:return"ðŸŸ¢"}},v=({value:t,status:i})=>e.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-2",children:e.jsx("div",{className:u("h-2 rounded-full transition-all duration-300",i==="critical"?"bg-red-500":i==="warning"?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(t,100)}%`}})}),P=({icon:t,title:i,value:m,status:x,description:l,badge:g,badgeColor:h})=>e.jsxs("div",{className:u("bg-card rounded-2xl p-6 shadow-lg border","border-border hover:shadow-xl transition-all duration-200"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:u("p-3 rounded-lg",Z(x)),children:e.jsx(t,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:u("px-3 py-1 rounded-full text-xs font-medium",h),children:g}),e.jsx("span",{className:"text-lg",children:K(x)})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:i}),e.jsx("div",{className:"text-3xl font-bold text-card-foreground mb-2",children:m}),e.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:l}),typeof m=="number"&&e.jsx(v,{value:m,status:x})]}),Q=p.memo(()=>{const{metrics:t,loading:i,error:m,fetchMetrics:x}=_(),[l,g]=p.useState("1h"),[h,b]=p.useState(!1);if(i)return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(T,{title:"Systeem Metrics",subtitle:"Live Monitoring"}),e.jsx("div",{className:"text-center py-12",children:e.jsx("h2",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Laden Systeem Metrics..."})})]})});if(m||!t)return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(T,{title:"Systeem Metrics",subtitle:"Live Monitoring"}),e.jsx(W,{error:m,onRetry:x,variant:"card",className:"mt-6"})]})});const o=parseInt(t.system_health.cpu_usage)||0,d=parseInt(t.system_health.memory_usage)||0,a=t.system_health.agent_success_rate||0,w=t.system_health.average_response_time||0,k=()=>{const f=JSON.stringify(t,null,2),r=new Blob([f],{type:"application/json"}),s=URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download=`systeem-metrics-${new Date().toISOString().split("T")[0]}.json`,n.click(),URL.revokeObjectURL(s)};return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(T,{title:"Systeem Metrics",subtitle:"Live Monitoring",children:[e.jsx("div",{className:"flex bg-muted rounded-lg p-1",children:["1h","6h","24h"].map(f=>e.jsx("button",{onClick:()=>g(f),className:u("px-3 py-1 rounded-md text-sm font-medium transition-all duration-200",l===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:f},f))}),e.jsx("button",{onClick:k,className:"p-2 rounded-lg bg-secondary hover:bg-secondary/80 transition-colors duration-200",title:"Export Metrics",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-lg border border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-card-foreground",children:"BMAD Agent Systeem Gezondheid"}),e.jsx("button",{onClick:()=>b(!h),className:"px-3 py-1 rounded-lg text-sm font-medium bg-secondary text-secondary-foreground hover:bg-secondary/80 transition-all duration-200",children:h?"Details Verbergen":"Details Tonen"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(P,{icon:I,title:"Agent CPU Gebruik",value:`${o}%`,status:j(o,N.cpu),description:"Gemiddeld CPU gebruik van alle agents",badge:"Agent CPU",badgeColor:"bg-blue-500 text-white"}),e.jsx(P,{icon:L,title:"Agent Geheugen",value:`${d}%`,status:j(d,N.memory),description:"Gemiddeld geheugen gebruik van alle agents",badge:"Agent RAM",badgeColor:"bg-green-500 text-white"}),e.jsx(P,{icon:$,title:"Agent Success Rate",value:`${a}%`,status:j(a,{warning:70,critical:50}),description:"Percentage succesvolle agent taken",badge:"Success",badgeColor:"bg-purple-500 text-white"})]})]})}),h&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold text-card-foreground mb-6",children:"Gedetailleerde Metingen"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-card-foreground",children:"Agent CPU Gebruik"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),e.jsx(v,{value:o,status:j(o,N.cpu)})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-card-foreground",children:"Agent Geheugen"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[d,"%"]})]}),e.jsx(v,{value:d,status:j(d,N.memory)})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-card-foreground",children:"Agent Success Rate"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a,"%"]})]}),e.jsx(v,{value:a,status:j(a,{warning:70,critical:50})})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-card-foreground",children:"Gemiddelde Response Time"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[w,"ms"]})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-500",children:"âš¡"})]})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-lg border border-border",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx($,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold text-card-foreground",children:"Prestatie Trends"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-card-foreground mb-3",children:"CPU Trend"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-2xl font-bold text-card-foreground",children:[o,"%"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Gemiddeld over ",l]})]}),e.jsx("div",{className:"mt-3 h-2 bg-background rounded-full",children:e.jsx("div",{className:"h-2 bg-primary rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}),e.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-card-foreground mb-3",children:"Geheugen Trend"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-2xl font-bold text-card-foreground",children:[d,"%"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Gemiddeld over ",l]})]}),e.jsx("div",{className:"mt-3 h-2 bg-background rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full transition-all duration-300",style:{width:`${d}%`}})})]})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx(X,{onComplete:()=>{}})})]})})}),te=Q;export{te as SystemMetrics,Q as default};
//# sourceMappingURL=SystemMetrics-26355936.js.map
